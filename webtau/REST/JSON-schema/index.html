<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" /> 
<title>WebTau: JSON Schema</title><link rel="stylesheet" type="text/css" href="/webtau/static/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="/webtau/static/css/katex.min.css">
<link rel="stylesheet" type="text/css" href="/webtau/static/main.css">
<link rel="stylesheet" type="text/css" href="/webtau/logo.css">
</head>
<link rel="shortcut icon" href="/webtau/favicon.png"type="image/ico"/>
<body>
<div id="mdoc"><!--
  ~ Copyright 2019 TWO SIGMA OPEN SOURCE, LLC
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div id="znai-initial-page-loading" style="margin: -20px 0 0 -20px; padding: 0 40px 40px 0; width: 100vw; height: 100vh; display: flex; justify-content: center; align-items: center">
    <div></div>
</div><section style="max-width: 640px; margin-left: auto; margin-right: auto;">
<article>
<header><h1>Validation</h1></header>
<p>Webtau supports validation of objects against https://json-schema.org/ JSON Schema. It is possible to validate either the entire body or just a specific field with the complyWithSchema matcher as shown in the two examples below:Both examples above validate against the following schema:</p>
</article>

<article>
<header><h1>Error messages</h1></header>
<p>Using the first example above, an invalid schema will generate an error similar to: invalid schema (examples/scenarios/rest/jsonSchema/validateSchema.groovy) &gt; executing HTTP GET http://localhost:8080/weather X failed expecting body to comply with schema invalid-schema.json : body expected to comply with schema invalid-schema.json [#: required key [anotherField] not found, #/temperature: expected type: Boolean, found: Integer] { &quot;temperature&quot;: 88 } The schema used in validation to generate this error is as follows:</p>
</article>

<article>
<header><h1>Configuration</h1></header>
<p>The path to the schema file specified in complyWithSchema can be relative or absolute. If it's relative, it'll be relative to the jsonSchemasDir specified in configuration and if not specified then relative to working directory. For example: url = &quot;http://localhost:8180&quot; jsonSchemasDir = 'schemas'</p>
</article>
</section>
</div>
<script type="text/javascript" src="/webtau/toc.js"></script>
<script type="text/javascript" src="/webtau/assets.js"></script>
<script type="text/javascript" src="/webtau/static/react.min.js"></script>
<script type="text/javascript" src="/webtau/static/react-dom.min.js"></script>
<script type="text/javascript" src="/webtau/static/main.js"></script>
<script type="text/javascript" src="/webtau/search-index.js"></script>
<script>
document.getElementById('mdoc').innerHTML = '';
ReactDOM.render(React.createElement(Documentation, {
  "docMeta" : {
    "viewOn" : {
      "link" : "https://github.com/testingisdocumenting/webtau/tree/master/webtau-docs/webtau",
      "title" : "View On GitHub"
    },
    "id" : "webtau",
    "title" : "WebTau",
    "type" : "Guide",
    "previewEnabled" : false
  },
  "page" : {
    "type" : "Page",
    "content" : [ {
      "title" : "Validation",
      "id" : "validation",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Webtau supports validation of objects against ",
          "type" : "SimpleText"
        }, {
          "url" : "https://json-schema.org/",
          "isFile" : false,
          "type" : "Link",
          "content" : [ {
            "text" : "JSON Schema",
            "type" : "SimpleText"
          } ]
        }, {
          "text" : ".  It is possible to validate either",
          "type" : "SimpleText"
        }, {
          "type" : "SoftLineBreak"
        }, {
          "text" : "the entire body or just a specific field with the ",
          "type" : "SimpleText"
        }, {
          "code" : "complyWithSchema",
          "type" : "InlinedCode"
        }, {
          "text" : " matcher as shown in the two examples below:",
          "type" : "SimpleText"
        } ]
      }, {
        "lang" : "groovy",
        "snippet" : "http.get(\"/weather\") {\n    body.should complyWithSchema('valid-schema.json')\n}",
        "title" : "Validate entire body against JSON schema",
        "type" : "Snippet"
      }, {
        "lang" : "groovy",
        "snippet" : "http.get(\"/city/London\") {\n    weather.should complyWithSchema('valid-schema.json')\n}",
        "title" : "Validate specific field against JSON schema",
        "type" : "Snippet"
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Both examples above validate against the following schema:",
          "type" : "SimpleText"
        } ]
      }, {
        "title" : "Correct schema for the example above",
        "data" : {
          "type" : "object",
          "required" : [ "temperature" ],
          "properties" : {
            "temperature" : {
              "type" : "integer"
            }
          }
        },
        "paths" : [ ],
        "type" : "Json"
      } ]
    }, {
      "title" : "Error messages",
      "id" : "error-messages",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "Using the first example above, an invalid schema will generate an error similar to:",
          "type" : "SimpleText"
        } ]
      }, {
        "lang" : "",
        "snippet" : "invalid schema (examples/scenarios/rest/jsonSchema/validateSchema.groovy)\n> executing HTTP GET http://localhost:8080/weather\n  X failed expecting body to comply with schema invalid-schema.json : \n      body expected to comply with schema invalid-schema.json\n      [#: required key [anotherField] not found, #/temperature: expected type: Boolean, found: Integer]\n{\n  \"temperature\": 88\n}\n",
        "lineNumber" : "",
        "type" : "Snippet"
      }, {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "The schema used in validation to generate this error is as follows:",
          "type" : "SimpleText"
        } ]
      }, {
        "title" : "Incorrect schema for the example above",
        "data" : {
          "type" : "object",
          "required" : [ "temperature", "anotherField" ],
          "properties" : {
            "temperature" : {
              "type" : "boolean"
            },
            "anotherField" : {
              "type" : "string"
            }
          }
        },
        "paths" : [ ],
        "type" : "Json"
      } ]
    }, {
      "title" : "Configuration",
      "id" : "configuration",
      "type" : "Section",
      "content" : [ {
        "type" : "Paragraph",
        "content" : [ {
          "text" : "The path to the schema file specified in ",
          "type" : "SimpleText"
        }, {
          "code" : "complyWithSchema",
          "type" : "InlinedCode"
        }, {
          "text" : " can be relative or absolute.  If it's relative, it'll be",
          "type" : "SimpleText"
        }, {
          "type" : "SoftLineBreak"
        }, {
          "text" : "relative to the ",
          "type" : "SimpleText"
        }, {
          "code" : "jsonSchemasDir",
          "type" : "InlinedCode"
        }, {
          "text" : " specified in configuration and if not specified then relative to working directory.",
          "type" : "SimpleText"
        }, {
          "type" : "SoftLineBreak"
        }, {
          "text" : "For example:",
          "type" : "SimpleText"
        } ]
      }, {
        "lang" : "cfg",
        "snippet" : "url = \"http://localhost:8180\"\njsonSchemasDir = 'schemas'",
        "title" : "Configuration",
        "type" : "Snippet"
      } ]
    } ],
    "lastModifiedTime" : 1584486488000,
    "tocItem" : {
      "sectionTitle" : "REST",
      "pageTitle" : "JSON Schema",
      "pageMeta" : { },
      "fileName" : "JSON-schema",
      "dirName" : "REST",
      "pageSectionIdTitles" : [ {
        "title" : "Validation",
        "id" : "validation"
      }, {
        "title" : "Error messages",
        "id" : "error-messages"
      }, {
        "title" : "Configuration",
        "id" : "configuration"
      } ]
    }
  },
  "footer" : { }
}), document.getElementById("mdoc"));
</script>

</body>
</html>
